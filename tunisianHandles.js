let tunisianHandles =  [
    "Mtaylor", "eyadhjarray111", "SMIrrichto", "YassineBenYounes", "Krayem__", "express", "tayeb_jaaba", 
    "zabrouter", "gentleman.1", "ammahmed004", "MehdiBenAli", "Kairm_Zaf", "ElyesChaabouni", "assazzin_2", 
    "rayenbbs", "TMSniper", "cpinramadan", "HediChehaidar", "khalil__", "TRB_going_miles", "Moyogi", "RedStone", 
    "ademby", "MR_MIND_THMD", "MF_Cesar", "bbsmurf", "hanbow", "elferrr54", "Firas_Briki", "zgla755", "Friday_night", 
    "date_2.0", "bigdamdam", "Akrem_Ben_Zaoui", "The_King_0_0", "amineriwa", "blankKyo", "Kurlex", "UlTiMaTe_TROLL", 
    "OussamaJB", "HouzMeIfYouCan", "Karim__2", "LFTAYRI", "isagiiiii", "Kefrov", "Amamou", "Dali358", "XenithBlade", 
    "Infinity_Aura", "get_ducked", "XtraByte", "3rdAcc", "alibra2g2g", "Shtn", "mahdich02", "Becha123", "ilefbenrahma", 
    "skled", "Ameniiby6", "Delhack", "OmarBouat", "omarnvidia", "seif_karoui", "panda.BANDANA", "Mr_Crowley", 
    "internalones", "aa10144751", "RaedAroua", "wejih", "Leshrac", "T_C_D", "Picassooo", "Bouttouwa", "ROCHDI", 
    "yassjd199", "Ahmed_fadh", "wapiex", "GH1hatem", "Mr_tbk", "yassinearfaoui131", "AdamRh", "Amirben", "boukamcha77", 
    "s_hertelli", "Sir_Anwer", "9mi7a", "Phantom_Trooper", "azizkhlify", "RezguiAhmedAziz", "No_Pain_No_Gain", 
    "4atJ", "Snakefoot", "HUNT3Rboii", "Be10", "Ekkocystem", "sami_kh", "Ahmed.Kaaniche", "KaskroutBelKebda", 
    "Just_S", "ascil.chtioui", "eyahannachi13", "benfraj_helmi", "aziz10", "Lounissi", "Hitchcock25", "Raed888_", 
    "akramzaabi7", "Hbayeb", "ahmedchakroun789", "medmab", "SiGMI7A", "d19amine", "Souhail1411", "NoCodeNoLifeEz", 
    "rzougaBo", "moncef12", "Sami-Mezghani23", "AbdelazizSn24", "Khachlouv", "UltraMate", "S1NW4R", "ayyoub.mkadmi3", 
    "Tsugi_King", "mohammed_gharab", "Abdel_koddous", "ammar007", "anisbelkacem", "Azayez", "MahdyTN", "maherkh", 
    "Kage-Ryuu", "karim002", "Tchm1da", "aymenbenammar890", "28k", "3AWDI_BOY", "AlaaAfif", "Zwidi", "taherboudriga23", 
    "Farfazon", "powrr", "H_X1", "BOF", "FloppaMommy", "xFighter", "chmecle", "Lelouch3.8", "Mahmoud095", 
    "mohamedamin_guirat", "7medZeyd", "Weddou", "yassine0000", "Mehdi_arous", "IbrahimKrichen", "tahahamdii", 
    "Adamousse", "amine_meddeb", "Meow.Meow.", "H_FOUR", "DHieb", "Araday", "Soni-KR", "NAKATA", "omarouertani", 
    "Retr0o0", "chaaben", "Sucree503", "CacheMeIfYouCan", "Adambuf", "Hamzatrabelsi850", "bouuka", "Makki8", "ChR814", 
    "ademjlassi-1", "FaroukM", "Code.Virtuoso", "Rami9620", "khouilldi_khalil", "Admiral-Miro", "ElKadri", "aziz451", 
    "TEXAS_66", "Koukinour", "Hazbri.io", "Gh00sT", "ELpatron", "exodia_hosni", "Aziz__", "7etem", "montassarbf", 
    "dimamoune9", "Yask", "Haythem_idi", "The-Best21", "wassimka", "benslamaoussama1919", "Dh14", "Ilyes_Saadaoui", 
    "Moutaa", "asi_wissem", "slamaymen", "Popoff", "fouratmaro", "Hfedi", "rejebmohamed62", "RegularGuyy", 
    "JohanLibert0", "gannouniferiel2", "Smokius", "smeiyoussef1", "Amin5555", "amoetez.laifi", "Temperance9", 
    "Hi_Beemo", "Mouh4n3dX", "AzizKitten", "Mohamed_Taher_", "Astralics", "mohamedbechirtorki", "Ra-him", "abouraa", 
    "khaledkammoun", "aziztaamalli", "ja3bou9", "zahiabelkhouja", "AmineHarrabi", "MOKH2002", "SyrineDhahbi", "M.Adem", 
    "Samar._.Kammoun", "achawingss", "mohamed_elayech", "Redeath", "roudaynaelhazgui", "teens_contestant", "balouma", 
    "Iheb99", "Med_Anas", "Ahmed_JF", "Master_Khaled", "TheOnlyJihed", "m6Jd1", "saketmohame71", "SiGhassen", "Braum", 
    "ahmedmaalej", "rim_guenidez", "Gaddour_Yessine", "mednour844", "yesminedyesmine", "BassemBG", "NassimKraiem", 
    "mouhanned2750", "Rabie_Beltaief", "Gritli", "Alphius", "eslem10", "bzzbaha", "Haddaji_Hachem", "mohannedbt", 
    "khalil28", "imem", "MSS_55", "zei_ZZ", "kosayjab", "taky-eddine", "hedibhouri1", "soyfki", "henibenhmida112", 
    "meriamlouzi", "-KARIM-", "naneko", "adem_bc020", "boufa", "TroGXTNN", "Dezou2001", "anaskhouajaa", 
    "medbouchekoua3", "hazembellili", "Roua02", "khmanar", "ismailrebai", "Bahaaa123", "Mehdi_d", "1_8_0_2", 
    "Dragomir411", "zlibigot", "nidhalbzewech", "naneko96", "mazenmt", "hk2024", "imennajjar35", "AzizGharbi", 
    "nourmarnissi", "Hamza_OUE", "shamsoon", "aziz22", "PiXel29", "Kurintoka", "Kalafessss", "adembo3tay", "S4LM4.", 
    "Youzarsiff", "stoufa", "LouayDardouri-", "knis", "rayentahar6", "abdou_55", "biko03", "Dali.20", "anwerabidianwer", 
    "VENOM_TN", "Bess.", "wc1mx", "MoonlightMuse", "talel1710", "AzerChakir", "AhmedLoubiri", "melekkammoun.15", 
    "Anas_Said", "chaouchmalak5", "ggtn2020", "azzakhechine", "mouadh_tabassi", "Abdolski", "polycrap_123", "seiryu314", 
    "Daehkcarc", "bedis", "HediliKhalil", "3icha_ka7la", "fares_SL", "dedlyy", "yasmine154", "chiraz20", "EL_TITI", 
    "Ray04", "amalboubakri", "dahmani01", "airkaabi", "Youssefnajar", "hama_pro", "ahmedkacem248", "sassyyy", 
    "oumayma_badis", "med.tayeb.bz", "Baazaoui_Badii", "ahmad_musa", "naderbhm", "bo7mid", "anas_bousrih", 
    "chahbani.mohammed", "sellemisoulaima26", "Lamiiss", "Kyoma34", "Atchy", "Sekarden1"
        ];  



// Vérification et ajout de nouveaux handles
async function verifyAndAddHandle(newHandle) {
    try {
        const response = await fetch(`https://codeforces.com/api/user.info?handles=${newHandle}`);
        const data = await response.json();

        if (data.status === "OK") {
            const user = data.result[0];

            // Vérifie que le user est tunisien
            if (user.country === "Tunisia") {
                // Recharge la liste depuis le localStorage pour être à jour
                const storedHandles = JSON.parse(localStorage.getItem('tunisianHandles')) || [];

                // Vérifie si le handle existe déjà (insensible à la casse si tu veux)
                if (!storedHandles.includes(newHandle)) {
                    storedHandles.push(newHandle);

                    // Mets à jour le localStorage et la variable globale
                    localStorage.setItem('tunisianHandles', JSON.stringify(storedHandles));
                    tunisianHandles = storedHandles;

                    console.log("Ajouté :", newHandle);
                    return true;
                } else {
                    console.log("Handle déjà existant :", newHandle);
                }
            }
        }

        return false;
    } catch (error) {
        console.error("Erreur de vérification:", error);
        return false;
    }
}

// Initialiser depuis le Local Storage

document.addEventListener('DOMContentLoaded', () => {
 

    let storedHandles = localStorage.getItem('tunisianHandles');
    if (storedHandles) {
        tunisianHandles = JSON.parse(storedHandles);
    }
    else localStorage.setItem('tunisianHandles', JSON.stringify(tunisianHandles));
    if (storedHandles) {
        tunisianHandles = JSON.parse(storedHandles);
    }

});